const t=t=>"object"==typeof t&&null!==t;function e(e,n){const l=new Map,r=new WeakMap;if(n)for(const[e,o]of n)t(e)?r.set(e,()=>o):l.set(e,()=>o);const o=t=>{let n=null,l=null,r=null;return n=(async()=>{try{l=await e(t)}catch(t){r=t}finally{n=null}})(),()=>{if(n)throw n;if(null!==r)throw r;return l}},c=e=>{t(e)?r.has(e)||r.set(e,o(e)):l.has(e)||l.set(e,o(e))};return{prefetch:c,evict:e=>{t(e)?r.delete(e):l.delete(e)},get:e=>{let n=t(e)?r.get(e):l.get(e);return n||(c(e),n=t(e)?r.get(e):l.get(e)),n()}}}export{e as createFetchStore};
//# sourceMappingURL=index.modern.js.map
